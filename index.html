<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Gemedasj – Ballongspill</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #222;
            color: white;
        }

        #gameArea {
            width: 600px;
            height: 500px;
            background: #333;
            margin: 20px auto;
            position: relative;
            border: 3px solid white;
            overflow: hidden;
        }

        .balloon {
            width: 50px;
            height: 70px;
            background: red;
            border-radius: 50% 50% 45% 45%;
            position: absolute;
            cursor: pointer;
        }

        #startBtn {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Gemedasj – Pop Ballongene!</h1>
    <p>Poeng: <span id="score">0</span></p>
    <p>Liv: <span id="lives">3</span></p>

    <div id="gameArea"></div>

    <button id="startBtn">Start spillet</button>

    <audio id="popSound">
        <source src="https://actions.google.com/sounds/v1/cartoon/pop.ogg" type="audio/ogg">
    </audio>

    <script>
        const gameArea = document.getElementById("gameArea");
        const scoreDisplay = document.getElementById("score");
        const livesDisplay = document.getElementById("lives");
        const startBtn = document.getElementById("startBtn");
        const popSound = document.getElementById("popSound");

        let score = 0;
        let lives = 3;
        let gameRunning = false;

        function spawnBalloon() {
            if (!gameRunning) return;

            const balloon = document.createElement("div");
            balloon.classList.add("balloon");

            const x = Math.random() * (gameArea.clientWidth - 50);
            balloon.style.left = x + "px";
            balloon.style.bottom = "0px";

            gameArea.appendChild(balloon);

            balloon.addEventListener("click", () => {
                popSound.play();
                score++;
                scoreDisplay.textContent = score;
                balloon.remove();
            });

            moveBalloon(balloon);
            setTimeout(spawnBalloon, 1000);
        }

        function moveBalloon(balloon) {
            let y = 0;
            const speed = 2 + Math.random() * 3;

            const interval = setInterval(() => {
                if (!gameRunning) {
                    clearInterval(interval);
                    return;
                }

                y += speed;
                balloon.style.bottom = y + "px";

                if (y > gameArea.clientHeight) {
                    balloon.remove();
                    clearInterval(interval);
                    loseLife();
                }
            }, 20);
        }

        function loseLife() {
            lives--;
            livesDisplay.textContent = lives;

            if (lives <= 0) {
                gameOver();
            }
        }

        function startGame() {
            score = 0;
            lives = 3;
            gameRunning = true;

            scoreDisplay.textContent = score;
            livesDisplay.textContent = lives;

            gameArea.innerHTML = "";
            spawnBalloon();
        }

        function gameOver() {
            gameRunning = false;
            alert("Game Over! Du fikk " + score + " poeng.");
        }

        startBtn.addEventListener("click", startGame);
    </script>

</body>
</html>
